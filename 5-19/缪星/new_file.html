<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body{
				margin: 0px;
			}
			.big,.move{
				width: 80px;
				height: 80px;
				padding: 10px;
				position: absolute;
				top: 0px;
				left: 0px;
			}
			#small{
				width: 80px;
				height: 80px;
				background: url(11.jpg) no-repeat;
				background-size: contain;
				
			}
			.big:hover,.big.checked{
				background-color: rgba(40,140,240,0.3);
			}
			/*.move{
				position: absolute;
				top: 0px;
				left: 0px;
			}*/
		</style>
	</head>
	<body>
		<div class="big">
			<div id="small"></div>
		</div>
	</body>
	<script>
		var big=document.getElementsByClassName('big')[0];
		var l,t;
		big.onmousedown=function(e){
			var disX=e.clientX-this.offsetLeft;
			var disY=e.clientY-this.offsetTop;
			var clo=big.cloneNode(true);
			document.body.appendChild(clo);
			clo.setAttribute("class","move");
			this.setAttribute("class","big checked");
			document.onmousemove=function(e){
				var L=e.clientX-disX;
				var T=e.clientY-disY;
				if(L<0){
					L=0;
				}
				if(L>window.innerWidth-big.offsetWidth){
					L=window.innerWidth-big.offsetWidth;
				}
				if(T<0){
					T=0;
				}
				if(T>window.innerHeight-big.offsetHeight){
					T=window.offsetHeight-big.offsetHeight;
				}
				l=L;
				t=T;
				clo.style.left=L+"px";
				clo.style.top=T+"px";
				
			}
			document.onmouseup=function(){
				document.onmousemove=null;
				document.body.removeChild(clo);
				console.log(l,t)
				big.style.left=l+"px";
				big.style.top=t+"px";
			}
		}
	</script>
</html>

